<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å—ç¾æ´²æ¯”æ‰‹ç•«è…³ - ä¸ƒé¡†é¾ç Â·ä¸–ç•Œå†’éšª</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Microsoft JhengHei', 'PingFang TC', sans-serif;
      background: linear-gradient(135deg, #228B22 0%, #32CD32 50%, #90EE90 100%);
      color: #fff;
      min-height: 100vh;
      padding: 20px;
      position: relative;
      overflow-x: hidden;
    }

    /* è£é£¾æ€§èƒŒæ™¯å…ƒç´  */
    body::before {
      content: '';
      position: fixed;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background:
        radial-gradient(circle at 20% 50%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(0, 100, 0, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 20%, rgba(144, 238, 144, 0.1) 0%, transparent 50%);
      animation: float 20s ease-in-out infinite;
      pointer-events: none;
    }

    @keyframes float {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      33% { transform: translate(30px, -30px) rotate(5deg); }
      66% { transform: translate(-20px, 20px) rotate(-5deg); }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }

    .header {
      text-align: center;
      margin-bottom: 25px;
      animation: fadeInDown 0.6s ease;
    }

    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .header h1 {
      font-size: 3rem;
      margin-bottom: 15px;
      text-shadow: 0 0 30px rgba(255, 215, 0, 0.8),
                   0 5px 10px rgba(0, 0, 0, 0.5);
      background: linear-gradient(45deg, #FFD700, #FFA500, #FFD700);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: shimmer 3s ease-in-out infinite;
    }

    @keyframes shimmer {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.3); }
    }

    .header p {
      font-size: 1.3rem;
      color: #ffd700;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    }

    /* è¦å‰‡èªªæ˜å€ */
    .rules-section {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border: 3px solid rgba(255, 215, 0, 0.6);
      border-radius: 25px;
      padding: 40px;
      margin-bottom: 30px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
      animation: fadeInUp 0.6s ease 0.2s backwards;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .rule-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .rule-header h2 {
      font-size: 2rem;
      color: #ffd700;
      margin-bottom: 10px;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    }

    .rule-content {
      font-size: 1.1rem;
      line-height: 2;
      margin-bottom: 20px;
    }

    .rule-content h3 {
      color: #ffd700;
      font-size: 1.4rem;
      margin: 25px 0 15px 0;
    }

    .rule-content ul {
      list-style: none;
      padding-left: 10px;
    }

    .rule-content li {
      margin-bottom: 10px;
      padding-left: 25px;
      position: relative;
    }

    .rule-content li::before {
      content: 'â€¢';
      position: absolute;
      left: 0;
      color: #ffd700;
      font-size: 1.5rem;
    }

    .rule-highlight {
      background: rgba(255, 215, 0, 0.2);
      border-left: 5px solid #ffd700;
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
      font-weight: bold;
      text-align: center;
    }

    .rule-warning {
      background: rgba(255, 100, 100, 0.2);
      border-left: 5px solid #ff6b6b;
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
    }

    .rule-warning h4 {
      color: #ff6b6b;
      margin-bottom: 10px;
    }

    .rule-success {
      background: rgba(76, 175, 80, 0.2);
      border-left: 5px solid #4CAF50;
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
      text-align: center;
    }

    .start-game-btn {
      display: block;
      width: 100%;
      max-width: 300px;
      margin: 30px auto 0;
      padding: 20px 40px;
      font-size: 1.5rem;
      font-weight: bold;
      color: #fff;
      background: linear-gradient(45deg, #4CAF50, #45a049);
      border: none;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(76, 175, 80, 0.4);
      transition: all 0.3s ease;
      animation: pulse-btn 2s ease-in-out infinite;
    }

    @keyframes pulse-btn {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .start-game-btn:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 12px 30px rgba(76, 175, 80, 0.6);
    }

    /* éŠæˆ²å€åŸŸ */
    .game-area {
      animation: fadeIn 0.6s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* é ‚éƒ¨è³‡è¨Šæ¬„ */
    .game-info {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 20px;
      gap: 15px;
    }

    .progress-bar {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 215, 0, 0.5);
      border-radius: 15px;
      padding: 12px 30px;
      font-size: 1.3rem;
      font-weight: bold;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      color: #ffd700;
    }

    /* é¡Œç›®å€åŸŸ */
    .question-section {
      background: rgba(255, 255, 255, 0.95);
      border: 4px solid rgba(255, 215, 0, 0.8);
      border-radius: 25px;
      padding: 40px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
      margin-bottom: 30px;
      text-align: center;
      min-height: 300px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .question-title {
      color: #228B22;
      font-size: 1.3rem;
      margin-bottom: 20px;
      font-weight: bold;
    }

    .animal-name {
      color: #2e7d32;
      font-size: 4rem;
      font-weight: bold;
      margin-bottom: 15px;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    .animal-english {
      color: #4CAF50;
      font-size: 1.8rem;
      margin-bottom: 20px;
    }

    .animal-pronunciation {
      color: #757575;
      font-size: 1.2rem;
      margin-bottom: 20px;
    }

    /* ç­”å°å¾Œçš„è³‡è¨Šå€ */
    .animal-info {
      display: none;
      background: rgba(255, 255, 255, 0.95);
      border: 4px solid rgba(76, 175, 80, 0.8);
      border-radius: 25px;
      padding: 40px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
      margin-bottom: 30px;
      animation: fadeInUp 0.5s ease;
    }

    .animal-info.show {
      display: block;
    }

    .animal-image {
      width: 100%;
      max-width: 400px;
      height: 250px;
      margin: 0 auto 25px;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    .animal-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .animal-facts {
      text-align: left;
      color: #333;
    }

    .animal-facts h3 {
      color: #228B22;
      font-size: 1.8rem;
      text-align: center;
      margin-bottom: 20px;
    }

    .animal-facts ul {
      list-style: none;
      padding: 0;
    }

    .animal-facts li {
      font-size: 1.2rem;
      line-height: 1.8;
      padding: 10px 0;
      padding-left: 30px;
      position: relative;
      border-bottom: 1px solid #e0e0e0;
    }

    .animal-facts li:last-child {
      border-bottom: none;
    }

    .animal-facts li::before {
      content: 'ğŸŒ¿';
      position: absolute;
      left: 0;
      font-size: 1rem;
    }

    /* å‹•ä½œæŒ‰éˆ•å€ */
    .action-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 18px 40px;
      font-size: 1.2rem;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      min-width: 150px;
    }

    .btn-next {
      background: linear-gradient(45deg, #2196F3, #1976D2);
      color: white;
    }

    .btn-next:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(33, 150, 243, 0.5);
    }

    .btn-correct {
      background: linear-gradient(45deg, #4CAF50, #45a049);
      color: white;
    }

    .btn-correct:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(76, 175, 80, 0.5);
    }

    .btn-complete {
      background: linear-gradient(45deg, #FF9800, #F57C00);
      color: white;
    }

    .btn-complete:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(255, 152, 0, 0.5);
    }

    .btn-back {
      background: linear-gradient(45deg, #757575, #616161);
      color: white;
    }

    .btn-back:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(117, 117, 117, 0.5);
    }

    .btn-restart {
      background: linear-gradient(45deg, #E91E63, #C2185B);
      color: white;
    }

    .btn-restart:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(233, 30, 99, 0.5);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    /* æˆåŠŸ/æ­ç¤º Overlay */
    .success-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 10000;
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.3s ease;
    }

    .success-overlay.show {
      display: flex;
    }

    .success-content {
      text-align: center;
      animation: bounceIn 0.6s ease;
    }

    @keyframes bounceIn {
      0% { transform: scale(0.3); opacity: 0; }
      50% { transform: scale(1.05); }
      70% { transform: scale(0.9); }
      100% { transform: scale(1); opacity: 1; }
    }

    .success-content h2 {
      font-size: 2.5rem;
      color: #ffd700;
      margin-bottom: 20px;
    }

    .success-content p {
      font-size: 1.3rem;
      margin-bottom: 30px;
    }

    /* é¾ç æ­ç¤ºå‹•ç•« */
    @keyframes dragonBallReveal {
      0% {
        transform: scale(0.3) rotateY(180deg);
        opacity: 0;
      }
      50% {
        transform: scale(1.1) rotateY(90deg);
        opacity: 0.7;
      }
      100% {
        transform: scale(1) rotateY(0deg);
        opacity: 1;
      }
    }

    @keyframes iconGlow {
      0%, 100% {
        filter: drop-shadow(0 0 20px #ffd700);
      }
      50% {
        filter: drop-shadow(0 0 40px #ffd700);
      }
    }

    @keyframes fadeInUp2 {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
    @media (max-width: 768px) {
      .header h1 {
        font-size: 2rem;
      }

      .rules-section {
        padding: 25px 20px;
      }

      .rule-header h2 {
        font-size: 1.5rem;
      }

      .rule-content {
        font-size: 1rem;
      }

      .animal-name {
        font-size: 3rem;
      }

      .animal-english {
        font-size: 1.4rem;
      }

      .question-section {
        padding: 30px 20px;
      }

      .action-buttons {
        flex-direction: column;
      }

      .btn {
        width: 100%;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 10px;
      }

      .animal-name {
        font-size: 2.5rem;
      }

      .animal-english {
        font-size: 1.2rem;
      }

      .animal-image {
        height: 180px;
      }

      .animal-facts li {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>

  <div class="container">
    <!-- æ¨™é¡Œå€ -->
    <div class="header">
      <h1>ğŸŒ å—ç¾æ´²æ¯”æ‰‹ç•«è…³</h1>
      <p>èªè­˜å—ç¾æ´²çš„ç¥å¥‡å‹•ç‰©ï¼</p>
    </div>

    <!-- è¦å‰‡èªªæ˜å€ -->
    <div id="rules-section" class="rules-section">
      <div class="rule-header">
        <h2>ğŸ­ å—ç¾æ´²å‹•ç‰©æ¯”æ‰‹ç•«è…³ ğŸ¦™</h2>
      </div>

      <div class="rule-content">
        <h3>â–¶ï¸ éŠæˆ²é€²è¡Œæ–¹å¼</h3>
        <ul>
          <li>è«‹<strong>å¹¼å¹¼çµ„ 3 ä½å°æœ‹å‹èƒŒå°è¢å¹•</strong>ï¼Œæº–å‚™çŒœé¡Œ</li>
          <li>è¢å¹•ä¸Šæœƒå‡ºç¾ã€Œå—ç¾æ´²å‹•ç‰©é¡Œç›®ã€</li>
          <li>ç”±å…¶ä»– <strong>8 ä½å°æœ‹å‹ä¾åºè¼ªæµ</strong>ç”¨<strong>å‹•ä½œæˆ–èªè¨€æç¤º</strong>ï¼Œä¾†å¹«åŠ©å¹¼å¹¼çµ„å°æœ‹å‹çŒœç­”æ¡ˆ</li>
          <li>çŒœå°å¾Œï¼Œæ›ä¸‹ä¸€ä½æ¯”æ‰‹ç•«è…³è€…èˆ‡æ–°é¡Œç›®</li>
        </ul>
      </div>

      <div class="rule-warning">
        <h4>âš ï¸ é‡è¦è¦å‰‡ï¼ˆä¸€å®šè¦éµå®ˆï¼ï¼‰</h4>
        <ul>
          <li>âœ… <strong>å¯ä»¥èªªè©±æç¤º</strong></li>
          <li>âŒ <strong>ä¸å¯ä»¥èªªå‡ºé¡Œç›®ä¸­å‡ºç¾çš„ä»»ä½•å­—</strong></li>
          <li>å¦‚æœä¸å°å¿ƒèªªåˆ°é¡Œç›®è£¡çš„å­—ï¼Œè©²é¡Œç›´æ¥å¤±æ•—ï¼Œæ›ä¸‹ä¸€é¡Œé‡æ–°é–‹å§‹</li>
        </ul>
      </div>

      <div class="rule-success">
        <h4>ğŸ† éé—œæ¢ä»¶</h4>
        <p style="font-size: 1.2rem; margin-top: 10px;">
          8 ä½å°æœ‹å‹å‡ºçš„é¡Œç›®ï¼Œ<strong>å…¨éƒ¨éƒ½æˆåŠŸè®“å¹¼å¹¼çµ„å°æœ‹å‹çŒœå°</strong>ï¼Œ<br>
          å°±æˆåŠŸé€šéå—ç¾æ´²é—œå¡ï¼
        </p>
      </div>

      <button class="start-game-btn" onclick="startGameFromRules()">ğŸš€ é–‹å§‹æŒ‘æˆ°</button>
    </div>

    <!-- éŠæˆ²å€åŸŸ -->
    <div class="game-area" id="game-area" style="display: none;">
      <!-- é ‚éƒ¨è³‡è¨Šæ¬„ -->
      <div class="game-info">
        <div class="progress-bar">
          é¡Œç›®é€²åº¦ï¼š<span id="current-question">1</span> / 8
        </div>
      </div>

      <!-- é¡Œç›®å€åŸŸ -->
      <div class="question-section" id="question-section">
        <div class="question-title">ğŸ¯ è«‹æ¯”æ‰‹ç•«è…³è®“å¹¼å¹¼çµ„çŒœé€™å€‹å‹•ç‰©ï¼š</div>
        <div class="animal-name" id="animal-name">æ°´è±š</div>
        <div class="animal-pronunciation" id="animal-pronunciation">ï¼ˆè±š ã„Šã„¨ã„£ËŠï¼‰</div>
        <div class="animal-english" id="animal-english">Capybara</div>
      </div>

      <!-- ç­”å°å¾Œçš„è³‡è¨Šå€ -->
      <div class="animal-info" id="animal-info">
        <div class="animal-image" id="animal-image">
          <img src="" alt="å‹•ç‰©åœ–ç‰‡" id="animal-img">
        </div>
        <div class="animal-facts">
          <h3 id="info-title">ğŸŒ¿ å°çŸ¥è­˜è£œå……</h3>
          <ul id="animal-facts-list">
          </ul>
        </div>
      </div>

      <!-- å‹•ä½œæŒ‰éˆ• -->
      <div class="action-buttons">
        <button class="btn btn-next" id="next-btn" onclick="nextQuestion()">â¡ï¸ ä¸‹ä¸€é¡Œ</button>
        <button class="btn btn-correct" id="correct-btn" onclick="showCorrectInfo()">âœ… ç­”å°äº†</button>
        <button class="btn btn-complete" id="complete-btn" onclick="completeChallenge()">ğŸ† ç ´é—œ</button>
        <button class="btn btn-restart" onclick="restartChallenge()">ğŸ”„ é‡æ–°æŒ‘æˆ°</button>
        <button class="btn btn-back" onclick="goBack()">ğŸ—ºï¸ è¿”å›åœ°åœ–</button>
      </div>
    </div>
  </div>

  <!-- é¾ç æ­ç¤º Overlay -->
  <div class="success-overlay" id="reveal-overlay">
    <div class="success-content" style="animation: dragonBallReveal 1.2s ease;">
      <div style="font-size: 8rem; margin-bottom: 20px; animation: iconGlow 2s ease-in-out infinite;">ğŸŸ¡</div>
      <h2 style="animation: fadeInUp2 1s ease 0.3s backwards;">çœŸé¾ç ä»»å‹™å®Œæˆï¼</h2>
      <p style="animation: fadeInUp2 1s ease 0.6s backwards;">ä½ ç²å¾—äº†ä¸€é¡†çœŸé¾ç </p>
    </div>
  </div>

  <!-- æˆåŠŸå®Œæˆ Overlay -->
  <div class="success-overlay" id="success-overlay">
    <div class="success-content">
      <div style="font-size: 10rem; margin-bottom: 20px; animation: iconGlow 2s ease-in-out infinite;">ğŸŸ¡</div>
      <h2>æ­å–œï¼æŒ‘æˆ°æˆåŠŸï¼</h2>
      <p>ä½ å€‘æˆåŠŸå®Œæˆå—ç¾æ´²å‹•ç‰©æ¯”æ‰‹ç•«è…³æŒ‘æˆ°ï¼</p>
      <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
        <button class="btn btn-restart" onclick="restartChallenge()">ğŸ”„ é‡æ–°æŒ‘æˆ°</button>
        <button class="btn btn-back" onclick="goBack()">è¿”å›åœ°åœ–</button>
      </div>
    </div>
  </div>

  <script src="../js/shared.js"></script>

  <script>
    const LOCATION_KEY = 'south-america';

    // å—ç¾æ´²å‹•ç‰©é¡Œåº«
    const animals = [
      {
        id: 1,
        name: 'æ°´è±š',
        pronunciation: 'ï¼ˆè±š ã„Šã„¨ã„£ËŠï¼‰',
        english: 'Capybara',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Capybara_%28Hydrochoerus_hydrochaeris%29.JPG/1280px-Capybara_%28Hydrochoerus_hydrochaeris%29.JPG',
        facts: [
          'ä¸–ç•Œä¸Šæœ€å¤§çš„é½§é½’å‹•ç‰©',
          'å–œæ­¡æ³¡æ°´ã€æ¸¸æ³³',
          'å€‹æ€§æº«å’Œï¼Œæ„›å’Œå…¶ä»–å‹•ç‰©ä¸€èµ·ç©'
        ]
      },
      {
        id: 2,
        name: 'å­å½ˆèŸ»',
        pronunciation: '',
        english: 'Bullet Ant',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Paraponera_clavata.jpg/1280px-Paraponera_clavata.jpg',
        facts: [
          'èº«é«”å°ï¼Œä½†å¾ˆå‹‡æ•¢',
          'å’¬äººéå¸¸éå¸¸ç—›',
          'ä½åœ¨ç†±å¸¶é›¨æ—'
        ]
      },
      {
        id: 3,
        name: 'ç¾Šé§',
        pronunciation: '',
        english: 'Alpaca',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Alpaca_%2831562329701%29.jpg/1280px-Alpaca_%2831562329701%29.jpg',
        facts: [
          'çœ‹èµ·ä¾†åƒåœ¨å¾®ç¬‘',
          'ä½åœ¨é«˜å±±ï¼Œä¸æ€•å†·',
          'æ¯›å¯ä»¥åšæˆè¡£æœ'
        ]
      },
      {
        id: 4,
        name: 'ç®­æ¯’è›™',
        pronunciation: '',
        english: 'Poison Dart Frog',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4f/Dendrobates_azureus_%28Dendrobates_tinctorius%29_Edit.jpg/1280px-Dendrobates_azureus_%28Dendrobates_tinctorius%29_Edit.jpg',
        facts: [
          'é¡è‰²å¾ˆäº®ï¼Œæé†’å¤§å®¶ä¸è¦ç¢°',
          'æ¯’æ¶²å¼·ï¼ŒåŸä½æ°‘æœƒæŠŠå®ƒå¡—åœ¨å¹ç®­ä¸Š'
        ]
      },
      {
        id: 5,
        name: 'å®‰åœ°æ–¯ç¥é·¹',
        pronunciation: '',
        english: 'Andean Condor',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/fb/Vultur_gryphus_-Dou%C3%A9-la-Fontaine_Zoo%2C_France-8a_%281%29.jpg/1280px-Vultur_gryphus_-Dou%C3%A9-la-Fontaine_Zoo%2C_France-8a_%281%29.jpg',
        facts: [
          'ç¿…è†€å¼µé–‹åƒä¸€æ¶é£›æ©Ÿ',
          'é£›å¾—å¾ˆé«˜ã€å¾ˆä¹…',
          'å¹«å¤§è‡ªç„¶æ¸…ç†åƒåœ¾'
        ]
      },
      {
        id: 6,
        name: 'æµ·å…‹åŠ›å£«å…œèŸ²',
        pronunciation: 'ï¼ˆå…œ ã„‰ã„¡ï¼‰',
        english: 'Hercules Beetle',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/9c/Dynastes_hercules_ecuatorianus_MHNT.jpg/1280px-Dynastes_hercules_ecuatorianus_MHNT.jpg',
        facts: [
          'ä¸–ç•Œæœ€é•·çš„ç”²èŸ²',
          'é ­ä¸Šæœ‰å¤§è§’ï¼Œåƒè¶…ç´šè‹±é›„'
        ]
      },
      {
        id: 7,
        name: 'æµ·é¬£èœ¥',
        pronunciation: 'ï¼ˆé¬£ ã„Œã„§ã„Ë‹ï¼‰',
        english: 'Marine Iguana',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Amblyrhynchus_cristatus_%28Gal%C3%A1pagos_marine_iguana%29_-_Isla_Fernandina%2C_Gal%C3%A1pagos_2010.jpg/1280px-Amblyrhynchus_cristatus_%28Gal%C3%A1pagos_marine_iguana%29_-_Isla_Fernandina%2C_Gal%C3%A1pagos_2010.jpg',
        facts: [
          'ä¸–ç•Œå”¯ä¸€æœƒæ¸¸æ³³çš„èœ¥èœ´',
          'åƒæµ·è—»',
          'å¸¸åœ¨å²©çŸ³ä¸Šæ›¬å¤ªé™½'
        ]
      },
      {
        id: 8,
        name: 'éºé›‰',
        pronunciation: 'ï¼ˆéº ã„•ã„œË‹ï¼‰',
        english: 'Hoatzin',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Opisthocomus_hoazin_-_Orinoco_Delta%2C_Venezuela.jpg/1280px-Opisthocomus_hoazin_-_Orinoco_Delta%2C_Venezuela.jpg',
        facts: [
          'ä¿æœ‰å§‹ç¥–é³¥ç‰¹å¾µ',
          'èº«é«”æœ‰éºé¦™å‘³åˆç¨±è‡­é³¥'
        ]
      },
      {
        id: 9,
        name: 'ç¾æ´²è±¹',
        pronunciation: '',
        english: 'Jaguar',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Standing_jaguar.jpg/1280px-Standing_jaguar.jpg',
        facts: [
          'é›¨æ—è£¡çš„å¤§è²“',
          'è·‘å¾—å¿«ã€åŠ›æ°£å¤§',
          'å¾ˆæœƒæ¸¸æ³³'
        ]
      },
      {
        id: 10,
        name: 'æ¨¹æ‡¶',
        pronunciation: '',
        english: 'Sloth',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Choloepus_didactylus_-_Jardim_Zool%C3%B3gico_de_Bras%C3%ADlia_-_DSC09862.JPG/1280px-Choloepus_didactylus_-_Jardim_Zool%C3%B3gico_de_Bras%C3%ADlia_-_DSC09862.JPG',
        facts: [
          'å‹•ä½œè¶…æ…¢',
          'ä¸€æ•´å¤©éƒ½åœ¨æ¨¹ä¸Š',
          'çœ‹èµ·ä¾†å¾ˆæ„›ç¡è¦º'
        ]
      },
      {
        id: 11,
        name: 'å·¨å˜´é³¥',
        pronunciation: '',
        english: 'Toucan',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Ramphastos_sulfuratus_-Belize_Zoo-6a-2c.jpg/1280px-Ramphastos_sulfuratus_-Belize_Zoo-6a-2c.jpg',
        facts: [
          'å˜´å·´åˆå¤§åˆå½©è‰²',
          'å–œæ­¡åƒæ°´æœ',
          'æ˜¯é›¨æ—è£¡çš„æ˜æ˜Ÿ'
        ]
      },
      {
        id: 12,
        name: 'ç¶ æ°´èšº',
        pronunciation: '',
        english: 'Green Anaconda',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b4/Sucuri_verde.jpg/1280px-Sucuri_verde.jpg',
        facts: [
          'ä¸–ç•Œä¸Šæœ€é‡çš„è›‡',
          'å–œæ­¡ä½åœ¨æ°´é‚Š',
          'åŠ›æ°£éå¸¸å¤§'
        ]
      },
      {
        id: 13,
        name: 'ç²‰ç´…æ²³è±š',
        pronunciation: 'ï¼ˆè±š ã„Šã„¨ã„£ËŠï¼‰',
        english: 'Amazon River Dolphin',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Amazon_river_dolphin.jpg/1280px-Amazon_river_dolphin.jpg',
        facts: [
          'èº«é«”æ˜¯ç²‰ç´…è‰²çš„',
          'ä½åœ¨äºé¦¬éœæ²³',
          'éå¸¸è°æ˜'
        ]
      },
      {
        id: 14,
        name: 'å·´è¥¿å·¨èœ¥',
        pronunciation: '',
        english: 'Tegu Lizard',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/Tupinambis_teguixin._Lagarto_tegu._-_Flickr_-_Dick_Culbert.jpg/1280px-Tupinambis_teguixin._Lagarto_tegu._-_Flickr_-_Dick_Culbert.jpg',
        facts: [
          'å—ç¾æœ€å¤§çš„èœ¥èœ´ä¹‹ä¸€',
          'å¾ˆè°æ˜',
          'ä»€éº¼éƒ½åƒ'
        ]
      },
      {
        id: 15,
        name: 'åŸé§',
        pronunciation: '',
        english: 'Guanaco',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Guanaco_09.24_%28cropped%29.jpg/1280px-Guanaco_09.24_%28cropped%29.jpg',
        facts: [
          'ç¾Šé§çš„é‡ç”Ÿè¦ªæˆš',
          'è·‘å¾—å¾ˆå¿«',
          'ä½åœ¨è‰åŸå’Œå±±å€'
        ]
      },
      {
        id: 16,
        name: 'è—é–ƒè¶',
        pronunciation: '',
        english: 'Morpho Butterfly',
        image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/Morpho_menelaus_huebneri_MHNT_Male.jpg/1280px-Morpho_menelaus_huebneri_MHNT_Male.jpg',
        facts: [
          'ç¿…è†€æœƒé–ƒäº®äº®çš„è—å…‰',
          'é£›èµ·ä¾†åƒå°ç²¾éˆ',
          'ä½åœ¨é›¨æ—'
        ]
      }
    ];

    let currentQuestionIndex = 0;
    let selectedQuestions = [];
    let isShowingInfo = false;

    // é–‹å§‹éŠæˆ²
    function startGameFromRules() {
      document.getElementById('rules-section').style.display = 'none';
      document.getElementById('game-area').style.display = 'block';
      initGame();
    }

    // åˆå§‹åŒ–éŠæˆ²
    function initGame() {
      currentQuestionIndex = 0;
      isShowingInfo = false;
      // éš¨æ©Ÿé¸æ“‡ 8 é¡Œ
      selectedQuestions = selectRandomQuestions(8);
      loadQuestion();
    }

    // éš¨æ©Ÿé¸æ“‡é¡Œç›®
    function selectRandomQuestions(count) {
      const shuffled = [...animals].sort(() => Math.random() - 0.5);
      return shuffled.slice(0, count);
    }

    // è¼‰å…¥é¡Œç›®
    function loadQuestion() {
      if (currentQuestionIndex >= selectedQuestions.length) {
        return;
      }

      isShowingInfo = false;
      const question = selectedQuestions[currentQuestionIndex];

      // æ›´æ–°é€²åº¦
      document.getElementById('current-question').textContent = currentQuestionIndex + 1;

      // é¡¯ç¤ºé¡Œç›®
      document.getElementById('animal-name').textContent = question.name;
      document.getElementById('animal-pronunciation').textContent = question.pronunciation;
      document.getElementById('animal-english').textContent = question.english;

      // é¡¯ç¤ºé¡Œç›®å€åŸŸï¼Œéš±è—è³‡è¨Šå€åŸŸ
      document.getElementById('question-section').style.display = 'flex';
      document.getElementById('animal-info').classList.remove('show');

      // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
      updateButtons();
    }

    // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
    function updateButtons() {
      const isLastQuestion = currentQuestionIndex >= selectedQuestions.length - 1;

      // å¦‚æœæ­£åœ¨é¡¯ç¤ºè³‡è¨Šï¼Œä¸‹ä¸€é¡ŒæŒ‰éˆ•æ‰æœ‰æ•ˆ
      document.getElementById('next-btn').style.display = isShowingInfo && !isLastQuestion ? 'inline-block' : 'none';
      document.getElementById('correct-btn').style.display = !isShowingInfo ? 'inline-block' : 'none';
      document.getElementById('complete-btn').style.display = isShowingInfo && isLastQuestion ? 'inline-block' : 'none';
    }

    // é¡¯ç¤ºç­”å°è³‡è¨Š
    function showCorrectInfo() {
      isShowingInfo = true;
      const question = selectedQuestions[currentQuestionIndex];

      // è¨­å®šåœ–ç‰‡
      document.getElementById('animal-img').src = question.image;
      document.getElementById('animal-img').alt = question.name;

      // è¨­å®šå°çŸ¥è­˜
      document.getElementById('info-title').textContent = `ğŸŒ¿ ${question.name} å°çŸ¥è­˜`;
      const factsList = document.getElementById('animal-facts-list');
      factsList.innerHTML = '';
      question.facts.forEach(fact => {
        const li = document.createElement('li');
        li.textContent = fact;
        factsList.appendChild(li);
      });

      // éš±è—é¡Œç›®å€åŸŸï¼Œé¡¯ç¤ºè³‡è¨Šå€åŸŸ
      document.getElementById('question-section').style.display = 'none';
      document.getElementById('animal-info').classList.add('show');

      // æ›´æ–°æŒ‰éˆ•
      updateButtons();
    }

    // ä¸‹ä¸€é¡Œ
    function nextQuestion() {
      currentQuestionIndex++;
      loadQuestion();
    }

    // å®ŒæˆæŒ‘æˆ°
    function completeChallenge() {
      // æª¢æŸ¥æ˜¯å¦å·²å®Œæˆé
      const completed = getCompletedLocations();
      const isNew = !completed.includes(LOCATION_KEY);

      if (isNew) {
        // é¡¯ç¤ºé¾ç æ­ç¤ºå‹•ç•«
        document.getElementById('reveal-overlay').classList.add('show');

        // 2ç§’å¾Œé¡¯ç¤ºæˆåŠŸé é¢
        setTimeout(() => {
          document.getElementById('reveal-overlay').classList.remove('show');
          markLocationCompleted(LOCATION_KEY);
          document.getElementById('success-overlay').classList.add('show');
        }, 2000);
      } else {
        // å·²å®Œæˆéï¼Œç›´æ¥é¡¯ç¤ºæˆåŠŸé é¢
        document.getElementById('success-overlay').classList.add('show');
      }
    }

    // è¿”å›åœ°åœ–
    function goBack() {
      window.location.href = '../index.html';
    }

    // é‡æ–°æŒ‘æˆ°ï¼ˆå›åˆ°è¦å‰‡é é¢ä¸¦æ¸…ç©ºç´€éŒ„ï¼‰
    function restartChallenge() {
      // éš±è—æ‰€æœ‰ overlay
      document.getElementById('success-overlay').classList.remove('show');
      document.getElementById('reveal-overlay').classList.remove('show');

      // éš±è—éŠæˆ²å€åŸŸï¼Œé¡¯ç¤ºè¦å‰‡é é¢
      document.getElementById('game-area').style.display = 'none';
      document.getElementById('rules-section').style.display = 'block';

      // é‡ç½®éŠæˆ²ç‹€æ…‹
      currentQuestionIndex = 0;
      isShowingInfo = false;
      selectedQuestions = [];
    }

    // æª¢æŸ¥æ˜¯å¦å·²å®Œæˆ
    function checkIfCompleted() {
      const completed = getCompletedLocations();
      if (completed.includes(LOCATION_KEY)) {
        // å¯ä»¥é¸æ“‡é¡¯ç¤ºå·²å®Œæˆè¨Šæ¯æˆ–ç›´æ¥è®“ç©å®¶å†ç©
      }
    }

    // åˆå§‹åŒ–æª¢æŸ¥
    checkIfCompleted();
  </script>

</body>
</html>
